<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>CSV Data Table - Galápagos Islands Testudinidae Macroevolution</title>
  <!-- favicon -->
  <link rel="icon" type="image/png" href="/gitm/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/gitm/favicon.svg" />
  <link rel="shortcut icon" href="/gitm/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/gitm/apple-touch-icon.png" />
  <link rel="manifest" href="/gitm/site.webmanifest" />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous">

  <!-- DataTables CSS -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.dataTables.min.css">

  <style>
    /* Remove default list bullets and spacing */
    .navbar-nav {
      list-style: none;
      padding-left: 0;
      margin: 0;
    }
    body {
      font-family: 'Open Sans', sans-serif;
      background: linear-gradient(to right,#66bb6a,#42a5f5);
      margin: 0;
      padding: 0;
      text-align: center;
    }
    header {
      padding: 20px;
      color: white;
    }
    footer {
      background-color: #00796b;
      color: white;
      padding: 20px;
      font-size: 14px;
      margin-top: 40px;
    }
    .header-container {
      display: flex;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
    }
    .logo-container, .right-placeholder {
      flex: 0 0 150px;
    }
    .logo, img {
      max-width: 100%;
      height: auto;
      display: block;
      margin: 0 auto;
    }
    .header-text {
      flex: 1;
      text-align: center;
    }
    .title {
      font-size: 36px;
      margin: 10px 0;
      font-family: 'Lato', sans-serif;
    }
    .subtitle {
      font-size: 18px;
      margin: 5px 0;
    }
    .team-members {
      font-size: 12px;
      margin-top: 10px;
      font-style: italic;
    }
    .container-main {
      width: 90%;
      max-width: 1200px;
      margin: 20px auto;
      padding: 20px;
      background-color: #f0f4c3;
      border-radius: 10px;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      background-color: white;
      border-radius: 10px;
      overflow: hidden;
    }
    th, td {
      padding: 8px;
      border: 1px solid #ddd;
      text-align: left;
      white-space: nowrap;
    }
    th {
      background-color: #004d40;
      color: #fff;
    }
    ol {
      list-style-position: inside;
    }
    .sectionloc { 
      margin-top: 2rem; 
    }
    @media (max-width: 768px) {
      .header-container {
        flex-direction: column;
        padding: 10px;
      }
      .logo-container, .right-placeholder {
        flex: 0 0 auto;
        margin-bottom: 10px;
      }
      .title {
        font-size: 28px;
      }
      .subtitle {
        font-size: 16px;
      }
      .container-main {
        width: 100%;
        padding: 15px;
      }
      table, th, td {
        font-size: 14px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-container">
      <div class="logo-container">
        <img src="tortoisenobackground.png" alt="Logo" class="logo">
      </div>
      <div class="header-text">
        <h1 class="title">Galápagos Islands Testudinidae Macroevolution</h1>
        <h2 class="subtitle">Macro-evolutionary Patterns of Giant Tortoises</h2>
        <p class="team-members">Authors: Paige Cherry, Sara Cielaszyk, Hubert Kasprzycki &amp; Eleanor Tuck</p>
      </div>
      <div class="right-placeholder"></div>
    </div>

    <!-- Bootstrap Navbar -->
    <nav class="navbar navbar-expand-md navbar-dark sticky-top" style="background-color: #004d40;">
      <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav mx-auto">
            <li class="nav-item active"><a class="nav-link" href="index.html">Home</a></li>
            <li class="nav-item"><a class="nav-link" href="island_data.html">Island Data</a></li>
            <li class="nav-item"><a class="nav-link" href="Final_Report.pdf">Diversification Rates</a></li>
            <li class="nav-item"><a class="nav-link" href="research_paper.pdf" target="_blank">Research Paper</a></li>
            <li class="nav-item"><a class="nav-link" href="team_contact.html">Team Bios</a></li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <main>
    <div class="container-main">
      <h1>Diversification Rates Results</h1>
      <img src="colortree_2.0.png" alt="Phylogeny" class="img-fluid">
      <section class="sectionloc">
        <h2>What does this phylogenetic tree signify?</h2>
        <p>This figure shows a phylogenetic tree of tortoise species. The colors represent the diversification rates of the species, with red indicating high diversification rates and blue indicating low diversification rates. The Galápagos tortoise species are highlighted in red, indicating their higher diversification rates compared to other tortoise species.</p>
      </section>
    </div>
    <div class="container-main">
      <!-- Download button for CSV -->
      <div class="d-flex justify-content-end mb-3">
        <a href="tip.rates.combo.csv" download class="btn btn-primary">Download CSV</a>
      </div>
      <table id="csv-table" class="display">
        <thead></thead>
        <tbody></tbody>
      </table>
      <section class="sectionloc">
        <h2>What does this table signify?</h2>
        <p>Here we present a table that includes data for tortoise species that live across the world. In our project, we focus on tortoise species that live on the Galápagos Islands. In this analysis, we used MiSSE (Missing State Speciation and Extinction) to estimate diversification rates for the tortoise species presented here. Tortoise species that live on the Galápagos Islands (a 1 in the "On_Galápagos" column) have much higher diversification rates (seen in the "Net_Diversification" column) compared to the other tortoise species in our dataset. To sort the data, click on the column names.</p>
        <p>Column definitions:
          <ol>
            <li>Species: various tortoise species around the world.</li>
            <li>On_Galápagos: whether the species lives on the Galápagos Islands (1) or not (0).</li>
            <li>Carapace_Length (cm): the average carapace length of the species in centimeters.</li>
            <li>Island_Size (km²): the area of the island where the species is found.</li>
            <li>Turnover: the turnover rate of the species (Speciation + Extinction).</li>
            <li>Net_Diversification: the net diversification rate of the species (Speciation - Extinction).</li>
            <li>Speciation: the speciation rate of the species.</li>
            <li>Extinction_Frac: Extinction fraction (Extinction/Speciation).</li>
            <li>Extinction: the extinction rate of the species.</li>
          </ol>
        </p>
      </section>
    </div>

  </main>

  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
  <script src="https://cdn.datatables.net/2.2.2/js/dataTables.min.js"></script>
  <script>
    $(document).ready(function() {
      Papa.parse('tip.rates.combo.csv', {
        download: true,
        header: true,
        transformHeader: function(h) {
          if (h === 'Carapace_Length') return 'Carapace_Length (cm)';
          if (h === 'Island_Size') return 'Island_Size (km²)';
          return h;
        },
        complete: function(results) {
          const data = results.data.filter(r => Object.values(r).some(c => c !== ''));
          const headers = results.meta.fields;
          const speciesIdx = headers.indexOf('Species');
          const galIdx = headers.indexOf('On_Galápagos');
          const thead = '<tr>' + headers.map(h => `<th>${h}</th>`).join('') + '</tr>';
          $('#csv-table thead').html(thead);
          const rows = data.map(r => '<tr>' + headers.map((key, i) => {
            const val = r[key];
            if (i === speciesIdx) {
              return `<td><i>${val}</i></td>`;
            }
            const num = parseFloat(val);
            if (i === galIdx) {
              return `<td>${parseInt(val, 10)}</td>`;
            }
            if (!isNaN(num)) {
              return `<td>${num.toFixed(4)}</td>`;
            }
            return `<td>${val}</td>`;
          }).join('') + '</tr>').join('');
          $('#csv-table tbody').html(rows);
          $('#csv-table').DataTable();
        }
      });
    });
  </script>
  <footer>
    <p>&copy; 2025 Capstone Project GITM</p>
    <p><strong>Acknowledgements: Special thanks to our professors, advisors, and the University of Arizona for supporting our project. Thank you to the Data Diversity Lab for helping in the creation of this capstone project. We also acknowledge the Galápagos Conservancy and researchers whose data and insights were invaluable.</p>
  </footer>
</body>
</html>











